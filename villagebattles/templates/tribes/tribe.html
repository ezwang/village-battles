{% extends "game.html" %}

{% block content %}
<div class="card center-card">
    <div class="card-body">
        {% if tribe %}
        <h3 class="card-title">{{ tribe.name }}</h3>
        <b>Members</b>
        <ul>
            {% for member in tribe.members.all %}
            <li><a href="{% url "user" member.id %}">{{ member.username }}</a></li>
            {% endfor %}
        </ul>
        <form method="POST">
            {% csrf_token %}
            <button class="btn btn-primary" name="action" value="leave">Leave</button>
        </form>
        {% else %}
        <h3 class="card-title">Join/Create Tribe</h3>
        <p>You are not currently in a tribe. You can create a tribe or join a tribe.</p>
        <div class="row">
            <div class="col-md-6">
                <h4>Join Tribe</h4>
                <form method="POST">
                    {% csrf_token %}
                    <div class="form-group">
                        <label>Tribe Name</label>
                        <input type="text" name="name" class="form-control" />
                    </div>
                    <button class="btn btn-primary" name="action" value="join">Join</button>
                </form>
            </div>
            <div class="col-md-6">
                <h4>Create Tribe</h4>
                <form method="POST">
                    <div class="form-group">
                        {% csrf_token %}
                        <label>Tribe Name</label>
                        <input type="text" name="name" class="form-control" />
                    </div>
                    <button class="btn btn-primary" name="action" value="create">Create</button>
                </form>
            </div>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
